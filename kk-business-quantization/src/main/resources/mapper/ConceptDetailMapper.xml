<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kk.business.quantization.dao.mapper.ConceptDetailMapper">

    <update id="updateSymbolByConceptIds">
        update concept_detail cd inner join stock_basic sb on sb.ts_code = cd.ts_code
            set cd.symbol = sb.symbol
        where cd.concept_id in
              <foreach collection="conceptIds"  item="id" open="(" separator="," close=")">
                  #{id}
              </foreach>

    </update>
    <update id="updateTsCodeByConceptIds">
        update concept_detail cd inner join stock_basic sb on sb.symbol = cd.ts_code
        set cd.ts_code = sb.ts_code,cd.symbol = sb.symbol
        where cd.concept_id in
        <foreach collection="conceptIds"  item="id" open="(" separator="," close=")">
            #{id}
        </foreach>

    </update>
    <update id="updateConceptNameByConceptIds">
        update concept_detail cd inner join concept c on c.code = cd.concept_id
        set cd.concept_name = c.name
        where cd.concept_id in
        <foreach collection="conceptIds"  item="id" open="(" separator="," close=")">
            #{id}
        </foreach>

    </update>

</mapper>
